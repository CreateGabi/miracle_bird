<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="recruit">

	<select id="recruitPartyList" resultType="recruitPartyVO">
		select r.recruit_id, p.party_id, p.name, p.miracle_start_time, p.miracle_end_time, p.activity
		from recruit as r
		join party as p
		on r.party_id = p.party_id;
	</select>
	
	<insert id="createRecruit" parameterType="recruitVO">
		insert into recruit
		values (null, #{content}, #{userId}, #{partyId});
	</insert>
	
	<select id="isCreated" parameterType="int" resultType="recruitVO">
		select *
		from recruit
		where party_id = #{partyId};
	</select>
	
	<select id="findRecruitPartyByRecruitId" parameterType="int" resultType="recruitPartyVO">
		select r.recruit_id, r.content, p.party_id, p.name, p.miracle_start_time, p.miracle_end_time, p.activity
		from recruit as r
		join party as p
		on r.party_id = p.party_id
		where r.recruit_id = #{recruitId};
	</select>
	
</mapper>